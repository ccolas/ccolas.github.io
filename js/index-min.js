(l=>{var i,e=l("body").attr("data-page-url");document.title,l(".page__content").find("img:first").imagesLoaded(function(){l(".portfolio-wrap").imagesLoaded(function(){l(".portfolio-wrap").masonry({itemSelector:".portfolio-item",transitionDuration:0})}),l(".blog-wrap").imagesLoaded(function(){l(".blog-wrap").masonry({itemSelector:".blog-post",transitionDuration:0})}),l("body").removeClass("loading"),l("body").removeClass("menu--open")}),l(".active-link").removeClass("active-link"),l('a[href="'+e+'"]').addClass("active-link"),Waypoint.destroyAll(),i=0,l(".gallery").each(function(){var e,a,t=l(this),n="gallery-"+ ++i,o=(t.attr("id",n),t.attr("data-columns"));t.append('<div class="gallery__wrap"></div>'),t.children("img").each(function(){l(this).appendTo("#"+n+" .gallery__wrap")}),t.find(".gallery__wrap img").each(function(){var e=l(this).attr("src");l(this).wrapAll('<div class="gallery__item"><a href="'+e+'" class="gallery__item__link"></div></div>').appendTo()}),"1"===o?t.imagesLoaded(function(){t.addClass("gallery--carousel"),t.children(".gallery__wrap").addClass("owl-carousel"),t.children(".gallery__wrap").owlCarousel({items:1,loop:!0,mouseDrag:!1,touchDrag:!0,pullDrag:!1,dots:!0,autoplay:!1,autoplayTimeout:6e3,autoHeight:!0,animateOut:"fadeOut"});new Waypoint({element:document.getElementById(n),handler:function(e){"down"===e&&t.children(".gallery__wrap").trigger("stop.owl.autoplay"),"up"===e&&t.children(".gallery__wrap").trigger("play.owl.autoplay")},offset:"-100%"}),new Waypoint({element:document.getElementById(n),handler:function(e){"down"===e&&t.children(".gallery__wrap").trigger("play.owl.autoplay"),"up"===e&&t.children(".gallery__wrap").trigger("stop.owl.autoplay")},offset:"100%"});t.addClass("gallery--on")}):(t.addClass("gallery--grid"),(e=t.children(".gallery__wrap")).masonry({itemSelector:".gallery__item",transitionDuration:0}),e.imagesLoaded().progress(function(){e.masonry("layout")}),a=[],(o=t).find(".gallery__item__link").each(function(){a.push(l(this).attr("href"))}),o.find(".gallery__item__link").each(function(t){l(this).on("click",function(e){e.preventDefault(),window.openLightbox(a,t)})}),t.addClass("gallery--on"))}),l(".single p > img").each(function(){var e=l(this).parent("p");l(this).insertAfter(e),l(this).wrapAll('<div class="image-wrap"></div>'),e.remove()}),l(".single iframe").not("[style]").each(function(){var e;(0<=l(this).attr("src").indexOf("youtube")||0<=l(this).attr("src").indexOf("vimeo"))&&(e=l(this).attr("width"),e=l(this).attr("height")/e*100,l(this).wrapAll('<div class="video-wrap"><div class="video" style="padding-bottom:'+e+'%;"></div></div>'))}),l(".single table").each(function(){l(this).wrapAll('<div class="table-wrap"></div>')}),l(document).on("click",".js-menu-toggle",function(){l("body").hasClass("menu--open")?l("body").removeClass("menu--open"):l("body").addClass("menu--open")}),l(document).on("click",".menu__list__item__link",function(){l(".menu").hasClass("menu--open")&&l(".menu").removeClass("menu--open")}),l(document).on("submit","#contact-form",function(e){l(".contact-form__item--error").removeClass("contact-form__item--error");var t=l('.contact-form__input[name="email"]'),a=l('.contact-form__input[name="name"]'),n=l('.contact-form__textarea[name="message"]'),o=l(".contact-form__gotcha");""===t.val()&&t.closest(".contact-form__item").addClass("contact-form__item--error"),""===a.val()&&a.closest(".contact-form__item").addClass("contact-form__item--error"),""===n.val()&&n.closest(".contact-form__item").addClass("contact-form__item--error"),""!==t.val()&&""!==a.val()&&""!==n.val()&&0===o.val().length||e.preventDefault()});var t,a=document.getElementById("lightbox"),n=document.getElementById("lightbox-img"),o=document.getElementById("lightbox-counter"),r=[],s=-1;function c(e,t){r=e,s=t,n.src=r[s],o.textContent=s+1+" / "+r.length,a.style.display="flex",document.body.style.overflow="hidden",document.getElementById("lightbox-prev").style.display=0<s?"":"none",document.getElementById("lightbox-next").style.display=s<r.length-1?"":"none"}function d(){a.style.display="none",n.src="",document.body.style.overflow=""}function m(){0<s&&c(r,s-1)}function u(){s<r.length-1&&c(r,s+1)}window.openLightbox=c,document.getElementById("lightbox-close").onclick=d,document.getElementById("lightbox-prev").onclick=m,document.getElementById("lightbox-next").onclick=u,a.addEventListener("click",function(e){e.target===a&&d()}),document.addEventListener("keydown",function(e){"none"!==a.style.display&&("Escape"===e.key&&d(),"ArrowLeft"===e.key&&m(),"ArrowRight"===e.key)&&u()}),t=0,a.addEventListener("touchstart",function(e){t=e.changedTouches[0].screenX},{passive:!0}),a.addEventListener("touchend",function(e){e=e.changedTouches[0].screenX-t;50<Math.abs(e)&&(0<e?m:u)()},{passive:!0})})(jQuery);